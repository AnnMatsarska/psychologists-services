{"version":3,"file":"static/js/540.ba2a764d.chunk.js","mappings":"gLACA,MAAuB,+BAAvB,EAAoE,sCAApE,EAA6K,uC,uFCehKA,EAAmB,WAC9B,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAgBC,EAAAA,EAAAA,IAAYC,EAAAA,IAC5BC,GAAcF,EAAAA,EAAAA,IAAYG,EAAAA,IAC1BC,GAAeJ,EAAAA,EAAAA,IAAYK,EAAAA,IAC3BC,GAASN,EAAAA,EAAAA,IAAYO,EAAAA,KAE3BC,EAAAA,EAAAA,YAAU,WACRX,GCpBoC,SAAAA,GACtC,IAAMY,GAAcC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAIC,EAAAA,KAAK,SAAAC,GACnC,IAAMC,EAAOD,EAASE,MAEhBC,GADqBF,EAAOG,OAAOC,OAAOJ,GAAM,GAAK,IACZK,KAAI,SAAAC,GAAY,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAC1DD,GAAY,IACfE,GAAIF,EAAaG,MAAI,IAGvB1B,GAAS2B,EAAAA,EAAAA,IAAiBR,GAC5B,IAEA,OAAO,WACLP,GACF,CACF,GDME,GAAG,CAACZ,KAEJW,EAAAA,EAAAA,YAAU,WACR,OAAO,WACLX,GAAS4B,EAAAA,EAAAA,MACX,CACF,GAAG,CAAC5B,IAEJ,IAAM6B,GAAwBC,EAAAA,EAAAA,GAAY5B,EAAeO,GACnDsB,EAAuBF,EAAsBG,MACjD,EACA3B,EAAcE,GAEV0B,EACJF,EAAqBG,OAAShC,EAAcgC,QACX,IAAjCL,EAAsBK,OAMxB,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACmC,IAAhCN,EAAqBG,QACpBI,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAASH,SACrBN,EAAqBT,KAAI,SAAAC,GAAY,OACpCe,EAAAA,EAAAA,KAACG,EAAAA,EAAgB,CAEflB,aAAcA,GADTA,EAAaE,GAElB,OAINa,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,4EAEK5B,EAAO,UAIlBwB,GACCK,EAAAA,EAAAA,KAAA,UAAQI,QAxBS,WACrB1C,GAAS2C,EAAAA,EAAAA,MACX,EAsBuCJ,UAAWC,EAAgBH,SAAC,cAG3D,OAGV,EEvEA,EAA0B,kCAA1B,EAAwE,oC,oBCiBxE,EAZyB,WACvB,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAcH,UAC5BF,EAAAA,EAAAA,MAAA,WAASI,UAAWC,EAAYH,SAAA,EAC9BC,EAAAA,EAAAA,KAACM,EAAAA,EAAM,KACPN,EAAAA,EAAAA,KAACvC,EAAgB,KACjBuC,EAAAA,EAAAA,KAACO,EAAAA,EAAQ,QAIjB,C","sources":["webpack://psychologists-service/./src/components/PsychologistList/PsychologistList.module.css?0ef3","components/PsychologistList/PsychologistList.jsx","redux/psychologists/actions.js","webpack://psychologists-service/./src/pages/Psychologist/PsychologistPage.module.css?cbcf","pages/Psychologist/PsychologistPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"PsychologistList_list__+petu\",\"loadMoreBtn\":\"PsychologistList_loadMoreBtn__MzkWH\",\"filterLabel\":\"PsychologistList_filterLabel__YLkkR\",\"emptyWrapper\":\"PsychologistList_emptyWrapper__m2UJz\"};","import css from './PsychologistList.module.css';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectPsychologists,\n  selectCurrentPage,\n  selectItemsPerPage,\n  selectFilter,\n  nextPage,\n  resetState,\n} from '../../redux/psychologists/slice';\nimport { fetchPsychologists } from '../../redux/psychologists/actions';\nimport { applyFilter } from '../../services/applyFilter';\n\nimport { PsychologistItem } from '../PsycologistItem/PsychologistItem';\n\nexport const PsychologistList = () => {\n  const dispatch = useDispatch();\n  const psychologists = useSelector(selectPsychologists);\n  const currentPage = useSelector(selectCurrentPage);\n  const itemsPerPage = useSelector(selectItemsPerPage);\n  const filter = useSelector(selectFilter);\n\n  useEffect(() => {\n    dispatch(fetchPsychologists());\n  }, [dispatch]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(resetState());\n    };\n  }, [dispatch]);\n\n  const filteredPsychologists = applyFilter(psychologists, filter);\n  const displayPsychologists = filteredPsychologists.slice(\n    0,\n    currentPage * itemsPerPage\n  );\n  const itemsNeedToBeDisplayed =\n    displayPsychologists.length < psychologists.length &&\n    filteredPsychologists.length !== 0;\n\n  const handleLoadMore = () => {\n    dispatch(nextPage());\n  };\n\n  return (\n    <>\n      {displayPsychologists.length !== 0 ? (\n        <ul className={css.list}>\n          {displayPsychologists.map(psychologist => (\n            <PsychologistItem\n              key={psychologist.id}\n              psychologist={psychologist}\n            />\n          ))}\n        </ul>\n      ) : (\n        <div className={css.emptyWrapper}>\n          <p>\n            We couldn't find any psychologists that match your search criteria\n            for \"{filter}\".\n          </p>\n        </div>\n      )}\n      {itemsNeedToBeDisplayed ? (\n        <button onClick={handleLoadMore} className={css.loadMoreBtn}>\n          Load More\n        </button>\n      ) : null}\n    </>\n  );\n};\n","import { setPsychologists } from './slice';\nimport { onValue, ref } from 'firebase/database';\nimport { db } from '../../firebase/config';\n\nexport const fetchPsychologists = () => dispatch => {\n  const unsubscribe = onValue(ref(db), snapshot => {\n    const data = snapshot.val();\n    const psychologistsArray = data ? Object.values(data)[0] : [];\n    const psychologistsWithId = psychologistsArray.map(psychologist => ({\n      ...psychologist,\n      id: psychologist.name,\n    }));\n\n    dispatch(setPsychologists(psychologistsWithId));\n  });\n\n  return () => {\n    unsubscribe();\n  };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"PsychologistPage_section__iAxJ7\",\"container\":\"PsychologistPage_container__2ofY7\"};","import { PsychologistList } from '../../components/PsychologistList/PsychologistList';\nimport css from './PsychologistPage.module.css';\nimport { Filter } from '../../components/Filter/Filter';\n\nimport { ScrollUp } from '../../components/ScrollUp/ScrollUp';\n\nconst PsychologistPage = () => {\n  return (\n    <div className={css.container}>\n      <section className={css.section}>\n        <Filter />\n        <PsychologistList />\n        <ScrollUp />\n      </section>\n    </div>\n  );\n};\n\nexport default PsychologistPage;\n"],"names":["PsychologistList","dispatch","useDispatch","psychologists","useSelector","selectPsychologists","currentPage","selectCurrentPage","itemsPerPage","selectItemsPerPage","filter","selectFilter","useEffect","unsubscribe","onValue","ref","db","snapshot","data","val","psychologistsWithId","Object","values","map","psychologist","_objectSpread","id","name","setPsychologists","resetState","filteredPsychologists","applyFilter","displayPsychologists","slice","itemsNeedToBeDisplayed","length","_jsxs","_Fragment","children","_jsx","className","css","PsychologistItem","onClick","nextPage","Filter","ScrollUp"],"sourceRoot":""}